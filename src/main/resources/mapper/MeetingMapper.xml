<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.student.union.dao.IMeetingDao">
<!--菜单信息-->
    <resultMap id="meetingMap" type="com.student.union.entity.Meeting">
        <id property="meetingId" column="meeting_id" jdbcType="INTEGER"/>
        <result property="meetingTime" column="meeting_time" jdbcType="TIMESTAMP"/>
        <result property="meetingContent" column="meeting_content" jdbcType="VARCHAR"/>
        <result property="meetingUser" column="meeting_user" jdbcType="VARCHAR"/>
        <result property="meetingTitle" column="meeting_title" jdbcType="VARCHAR"/>
        <result property="meetingPlace" column="meeting_place" jdbcType="VARCHAR"/>
        <result property="meetingHost" column="meeting_host" jdbcType="VARCHAR"/>
        <result property="meetingCapital" column="meeting_capital" jdbcType="VARCHAR"/>
    </resultMap>
<!--添加会议-->
    <insert id="addMeeting">
    INSERT INTO
        meeting
        (
            meeting_time,
            meeting_content,
            meeting_title,
            meeting_place,
            meeting_host,
		    meeting_user,
		    meeting_capital)
    VALUES
	    (#{meetingTime,jdbcType=TIMESTAMP},
	    #{meetingContent,jdbcType=VARCHAR},
	    #{meetingTitle,jdbcType=VARCHAR},
	    #{meetingPlace,jdbcType=VARCHAR},
	    #{meetingHost,jdbcType=VARCHAR},
	    #{meetingUser,jdbcType=VARCHAR},
	    #{meetingCapital,jdbcType=VARCHAR})
    </insert>
    <!--根据id删除会议-->
    <delete id="delMeeting">
        DELETE
        FROM
        meeting
        WHERE
	    meeting_id = #{meetingId}
    </delete>
    <!--根据id修改会议-->
    <update id="upMeeting" >
        UPDATE meeting
	    SET
	    meeting_time=#{meetingTime},
        meeting_content=#{meetingContent},
        meeting_title=#{meetingTitle},
        meeting_place=#{meetingPlace},
        meeting_host=#{meetingHost},
		meeting_user=#{meetingUser},
		meeting_capital=#{#{meetingCapital}}
        WHERE
	   meeting_id = #{meetingId};
    </update>
    <!--查询所有会议-->
    <select id="getMeeting"  resultMap="meetingMap" >
        SELECT
        meeting_id,
	    meeting_time,
        meeting_content,
        meeting_title,
        meeting_place,
        meeting_host,
		meeting_user,
		meeting_capital
        FROM
	    meeting
    </select>
    <!--根据时间搜索会议-->
    <select id="getMeetingBytime"  resultMap="meetingMap" parameterType="String">
        SELECT
        meeting_id,
	    meeting_time,
        meeting_content,
        meeting_title,
        meeting_place,
        meeting_host,
		meeting_user,
		meeting_capital
        FROM
	    meeting
	    where
	    meeting_time like "%"#{meetingTime}"%"
    </select>
    <!--根据标题搜索会议-->
    <select id="getMeetingBytitle"  resultMap="meetingMap" parameterType="String">
        SELECT
        meeting_id,
	    meeting_time,
        meeting_content,
        meeting_title,
        meeting_place,
        meeting_host,
		meeting_user,
		meeting_capital
        FROM
	    meeting
	    where
	    meeting_title like "%"#{meetingTitle}"%"
    </select>


</mapper>